<!DOCTYPE html>
<html lang="id" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Nexus // Pengalaman Digital Imersif</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- Google Fonts for Futuristic Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        /* Base Styles & Custom Properties */
        :root {
            --primary-glow: #0ea5e9; /* Sky blue */
            --secondary-glow: #8b5cf6; /* Violet */
            --tertiary-glow: #ec4899; /* Pink */
            --glass-bg: rgba(15, 23, 42, 0.3);
            --glass-border: rgba(56, 189, 248, 0.2);
            --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.4);
            --glass-inset: inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Share Tech Mono', monospace;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #E0E0E0;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%230ea5e9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-crosshair"><circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="2" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>') 12 12, crosshair;
            overflow-x: hidden;
            overscroll-behavior: contain;
        }

        h1, h2, h3, .font-orbitron {
            font-family: 'Orbitron', sans-serif;
            text-shadow: 0 0 10px var(--primary-glow);
        }

        /* ----------------------- 1️⃣ Static Professional UI ----------------------- */
        /* Glassmorphism Panel with 3D Depth */
        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow), var(--glass-inset);
            transform: perspective(1000px);
            transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .glass-panel-secondary {
            background: rgba(30, 41, 59, 0.5); /* Slightly darker for chat bubbles */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(168, 85, 247, 0.2);
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.2);
        }

        /* Neon Glow Accents */
        .neon-text {
            color: #E0E0E0;
            text-shadow: 0 0 5px var(--primary-glow), 0 0 10px var(--primary-glow);
        }

        .neon-button {
            position: relative;
            z-index: 10;
            overflow: hidden;
            transition: all 0.4s ease-out;
            box-shadow: 0 0 10px rgba(14, 165, 233, 0.3);
            background-color: rgba(14, 165, 233, 0.2);
            border: 1px solid rgba(14, 165, 233, 0.5);
        }

        .neon-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 0 20px rgba(14, 165, 233, 0.6), 0 0 30px rgba(14, 165, 233, 0.4);
            background-color: rgba(14, 165, 233, 0.4);
        }

        .neon-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
            transition: all 0.6s ease;
            transform: translate(-50%, -50%);
        }

        .neon-button:hover::before {
            width: 300%;
            height: 300%;
        }

        /* Cinematic Lighting & Effects */
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: radial-gradient(ellipse at center, rgba(15, 20, 25, 0.9) 0%, rgba(2, 2, 4, 1) 100%);
        }

        #vignette {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, rgba(0,0,0,0) 0%, rgba(0,0,0,0.8) 100%);
            pointer-events: none;
            z-index: -1;
        }

        /* Scrolling effects */
        .scroll-fade {
            opacity: 0;
            transform: translateY(20px) scale(0.98);
            transition: opacity 1s cubic-bezier(0.2, 0.8, 0.2, 1), transform 1s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .scroll-fade.is-visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        /* ----------------------- 2️⃣ Hologram & 3D Futuristic ----------------------- */
        .holographic-panel {
            position: relative;
            background: rgba(30, 41, 59, 0.2);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(168, 85, 247, 0.2);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3), inset 0 0 10px rgba(139, 92, 246, 0.1);
            transform: rotateX(20deg) scale(0.9);
            transform-origin: center bottom;
            transition: all 0.8s ease;
            animation: holographic-pulse 5s infinite ease-in-out;
        }

        .holographic-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(0deg, rgba(139, 92, 246, 0.2) 0%, transparent 50%, rgba(139, 92, 246, 0.2) 100%);
            animation: holographic-scan 3s infinite linear;
            pointer-events: none;
        }

        @keyframes holographic-pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.3), inset 0 0 10px rgba(139, 92, 246, 0.1); }
            50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.6), inset 0 0 20px rgba(139, 92, 246, 0.2); }
        }

        @keyframes holographic-scan {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        /* ----------------------- 3️⃣ Interactive Animation / Active UI ----------------------- */
        .interactive-panel {
            transition: all 0.2s ease-out;
            will-change: transform, box-shadow;
        }

        .interactive-element {
            position: relative;
            transition: all 0.3s ease;
            overflow: hidden;
            z-index: 1;
        }
        
        .interactive-element::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(14, 165, 233, 0.2);
            opacity: 0;
            transform: scale(0);
            transition: transform 0.4s ease-out, opacity 0.4s ease-out;
            z-index: -1;
        }

        .interactive-element:hover::before {
            transform: scale(1.1);
            opacity: 1;
        }

        /* AI Assistant Panel */
        #ai-assistant-panel {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 320px;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
            transform: scale(0.9) translateX(100%);
            opacity: 0;
            pointer-events: none;
            transition: all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
            z-index: 100;
        }

        #ai-assistant-panel.active {
            transform: scale(1) translateX(0);
            opacity: 1;
            pointer-events: auto;
        }

        #ai-chat-history {
            flex-grow: 1;
            overflow-y: auto;
        }
        
        .ai-message {
            animation: slideInUp 0.3s ease-out forwards;
        }

        @keyframes slideInUp {
            from {
                transform: translateY(10px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* ----------------------- 4️⃣ Cinematic Sci-Fi Style ----------------------- */
        /* Dynamic Shadows & Volumetric Lighting (simulated with CSS gradients) */
        .volumetric-light {
            position: fixed;
            top: -200px;
            left: 50%;
            width: 1000px;
            height: 1000px;
            background: radial-gradient(circle, rgba(14, 165, 233, 0.2) 0%, transparent 70%);
            animation: light-beam 15s infinite ease-in-out;
            pointer-events: none;
            z-index: -1;
            filter: blur(100px);
        }

        @keyframes light-beam {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(100px); }
        }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            #central-panel {
                transform: none !important;
            }
            .holographic-panel {
                transform: none !important;
            }
            .hidden-mobile {
                display: none;
            }
            .flex-col-mobile {
                flex-direction: column;
            }
        }
    </style>
</head>
<body class="bg-slate-900 min-h-screen">
    <!-- Immersive Backgrounds -->
    <div id="starfield"></div>
    <div id="vignette"></div>
    <div class="volumetric-light"></div>
    
    <!-- Main Content Grid -->
    <div id="main-container" class="relative z-10 p-4 md:p-8 min-h-screen flex items-center justify-center">
        
        <!-- Interactive & Floating Panels -->
        <div id="central-panel" class="w-full max-w-6xl interactive-panel grid md:grid-cols-3 gap-4 md:gap-8 transition-all duration-300">
            
            <!-- Left Panel: Profile & Navigation (Static Professional UI) -->
            <div class="glass-panel p-6 rounded-3xl col-span-3 md:col-span-1 shadow-2xl flex flex-col justify-between scroll-fade">
                <div>
                    <!-- Profile Card -->
                    <div class="flex items-center space-x-4 mb-6">
                        <div class="relative w-16 h-16 rounded-full overflow-hidden border-2 border-sky-400">
                            <img src="https://placehold.co/64x64/0f172a/60a5fa?text=U" alt="User Avatar" class="w-full h-full object-cover">
                            <div class="absolute inset-0 rounded-full animate-pulse-slow pointer-events-none" style="box-shadow: inset 0 0 10px #60a5fa, 0 0 15px #60a5fa;"></div>
                        </div>
                        <div>
                            <h2 class="font-orbitron text-xl md:text-2xl font-bold neon-text">User_079_D</h2>
                            <p class="text-sm text-slate-400">Authorized Personnel</p>
                        </div>
                    </div>
                    
                    <!-- Main Navigation -->
                    <nav>
                        <ul class="space-y-2">
                            <li><a href="#" class="block p-4 rounded-xl hover:bg-slate-800/50 transition-colors duration-200 neon-button"><i class="fas fa-home mr-3 text-sky-400"></i> Dashboard</a></li>
                            <li><a href="#" class="block p-4 rounded-xl hover:bg-slate-800/50 transition-colors duration-200 neon-button"><i class="fas fa-cubes mr-3 text-fuchsia-400"></i> Modules</a></li>
                            <li><a href="#" class="block p-4 rounded-xl hover:bg-slate-800/50 transition-colors duration-200 neon-button"><i class="fas fa-database mr-3 text-teal-400"></i> Data Streams</a></li>
                            <li><a href="#" class="block p-4 rounded-xl hover:bg-slate-800/50 transition-colors duration-200 neon-button"><i class="fas fa-cog mr-3 text-slate-400"></i> Settings</a></li>
                        </ul>
                    </nav>
                </div>
                
                <!-- System Status -->
                <div class="mt-8 pt-4 border-t border-slate-700/50">
                    <h3 class="font-orbitron text-lg neon-text mb-2">Status Sistem</h3>
                    <div class="flex items-center text-sm text-green-400">
                        <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"></div>
                        <p>Sistem utama: Online</p>
                    </div>
                    <div class="flex items-center text-sm text-orange-400 mt-1">
                        <div class="w-2 h-2 bg-orange-500 rounded-full animate-pulse mr-2"></div>
                        <p>Sinkronisasi data: Sedang menyinkronkan...</p>
                    </div>
                </div>
            </div>
            
            <!-- Center Panel: Main Content (Hologram & 3D Futuristic) -->
            <div class="col-span-3 md:col-span-2 holographic-panel p-6 rounded-3xl shadow-2xl flex flex-col justify-between scroll-fade" style="min-height: 70vh;">
                
                <!-- Header -->
                <div class="flex items-center justify-between mb-6">
                    <h1 class="font-orbitron text-3xl md:text-4xl font-black neon-text">Quantum Nexus</h1>
                    <button class="neon-button px-4 py-2 rounded-lg text-sm hidden md:block" id="ai-toggle-btn">
                        <i class="fas fa-brain mr-2"></i>Asisten AI
                    </button>
                </div>
                
                <!-- Main Carousel -->
                <div class="relative overflow-hidden mb-6" style="height: 300px;">
                    <div id="carousel-container" class="flex transition-transform duration-700 ease-in-out h-full">
                        <!-- Carousel Item 1 -->
                        <div class="w-full flex-shrink-0 flex items-center justify-center p-8 bg-sky-900/10 rounded-2xl border border-sky-400/20">
                            <div class="text-center">
                                <h2 class="font-orbitron text-2xl font-bold neon-text mb-2">Akses Data Galaksi</h2>
                                <p class="text-slate-400 max-w-lg mx-auto">Jelajahi aliran data real-time dari seluruh kosmos. Alat visualisasi canggih di ujung jari Anda.</p>
                            </div>
                        </div>
                        <!-- Carousel Item 2 -->
                        <div class="w-full flex-shrink-0 flex items-center justify-center p-8 bg-violet-900/10 rounded-2xl border border-violet-400/20">
                            <div class="text-center">
                                <h2 class="font-orbitron text-2xl font-bold neon-text mb-2">Protokol Otomatis 8-K</h2>
                                <p class="text-slate-400 max-w-lg mx-auto">Mulai protokol otomatis dengan satu klik. Integrasi mulus dengan semua modul inti.</p>
                            </div>
                        </div>
                        <!-- Carousel Item 3 -->
                        <div class="w-full flex-shrink-0 flex items-center justify-center p-8 bg-pink-900/10 rounded-2xl border border-pink-400/20">
                            <div class="text-center">
                                <h2 class="font-orbitron text-2xl font-bold neon-text mb-2">Aman & Terenkripsi</h2>
                                <p class="text-slate-400 max-w-lg mx-auto">Infrastruktur kami menjamin 100% integritas data dan keamanan dengan enkripsi tingkat kuantum.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Carousel Controls -->
                    <button id="carousel-prev" class="absolute top-1/2 -translate-y-1/2 left-4 w-10 h-10 bg-slate-800/50 hover:bg-slate-700/70 rounded-full transition-colors duration-200"><i class="fas fa-chevron-left"></i></button>
                    <button id="carousel-next" class="absolute top-1/2 -translate-y-1/2 right-4 w-10 h-10 bg-slate-800/50 hover:bg-slate-700/70 rounded-full transition-colors duration-200"><i class="fas fa-chevron-right"></i></button>
                </div>
                
                <!-- Action Buttons & Stats (Interactive Animation / Active UI) -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                    <button class="interactive-element neon-button p-4 rounded-xl text-center">
                        <i class="fas fa-sync-alt text-2xl mb-2 text-violet-400"></i>
                        <span class="block text-sm">Sinkronkan Modul</span>
                    </button>
                    <button class="interactive-element neon-button p-4 rounded-xl text-center">
                        <i class="fas fa-paper-plane text-2xl mb-2 text-pink-400"></i>
                        <span class="block text-sm">Kirim Perintah</span>
                    </button>
                    <button class="interactive-element neon-button p-4 rounded-xl text-center">
                        <i class="fas fa-upload text-2xl mb-2 text-cyan-400"></i>
                        <span class="block text-sm">Unggah Data</span>
                    </button>
                    <button class="interactive-element neon-button p-4 rounded-xl text-center">
                        <i class="fas fa-cogs text-2xl mb-2 text-yellow-400"></i>
                        <span class="block text-sm">Kelola API</span>
                    </button>
                </div>
                
                <!-- Interactive Chart (Placeholder for Hologram) -->
                <div class="holographic-panel p-6 rounded-3xl flex-grow flex items-center justify-center text-center">
                    <div>
                        <h3 class="font-orbitron text-xl font-bold neon-text">Tampilan Data Holografik</h3>
                        <p class="mt-2 text-slate-400">Di sini akan ada grafik dan dashboard interaktif.</p>
                    </div>
                </div>
                
            </div>
            
        </div>
        
    </div>

    <!-- AI Assistant Panel (Cinematic Sci-Fi Style) -->
    <div id="ai-assistant-panel" class="glass-panel rounded-3xl shadow-2xl p-6 hidden md:flex">
        <div class="flex justify-between items-center mb-4 border-b border-slate-700/50 pb-2">
            <h3 class="font-orbitron text-xl neon-text"><i class="fas fa-robot mr-2 text-violet-400"></i>Q_AI Asisten</h3>
            <button id="ai-close-btn" class="text-slate-400 hover:text-red-400 transition-colors"><i class="fas fa-times"></i></button>
        </div>
        
        <div id="ai-chat-history" class="space-y-4 mb-4 text-sm" style="height: 400px;">
            <!-- Chat messages will be appended here -->
            <div class="ai-message flex items-start space-x-2">
                <i class="fas fa-robot text-violet-400 mt-1"></i>
                <div class="glass-panel-secondary p-3 rounded-lg text-slate-200">
                    <p>Halo, saya Q_AI. Ada yang bisa saya bantu hari ini?</p>
                </div>
            </div>
        </div>

        <div class="flex items-center space-x-2 mt-auto">
            <textarea id="ai-query-input" class="flex-grow p-3 rounded-xl glass-panel-secondary border-none resize-none focus:outline-none focus:ring-2 focus:ring-sky-500" placeholder="Tanyakan sesuatu..." rows="1"></textarea>
            <button id="send-ai-query-btn" class="neon-button w-10 h-10 rounded-xl flex items-center justify-center">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>
    
    <!-- JS for Interactive Elements -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const centralPanel = document.getElementById('central-panel');
            const aiAssistantPanel = document.getElementById('ai-assistant-panel');
            const aiToggleBtn = document.getElementById('ai-toggle-btn');
            const aiCloseBtn = document.getElementById('ai-close-btn');
            const aiQueryInput = document.getElementById('ai-query-input');
            const sendAiQueryBtn = document.getElementById('send-ai-query-btn');
            const aiChatHistory = document.getElementById('ai-chat-history');
            const carouselContainer = document.getElementById('carousel-container');
            const carouselPrev = document.getElementById('carousel-prev');
            const carouselNext = document.getElementById('carousel-next');

            // ----------------------- 3️⃣ Interactive Animation / Active UI -----------------------
            // Panel float & shift with cursor
            document.body.addEventListener('mousemove', (e) => {
                // Gunakan throttle untuk performa yang lebih baik
                if (e.target.closest('#ai-assistant-panel')) return; // Jangan mengintervensi panel AI

                const { clientX, clientY } = e;
                const x = (clientX / window.innerWidth - 0.5) * 50;
                const y = (clientY / window.innerHeight - 0.5) * 50;
                
                centralPanel.style.transform = `perspective(1000px) rotateX(${-y/20}deg) rotateY(${x/20}deg)`;
            });

            // Reset transform on mouse leave
            document.body.addEventListener('mouseleave', () => {
                centralPanel.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg)`;
            });

            // Scroll Fade-in Animation
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target); // Hentikan mengamati setelah terlihat
                    }
                });
            }, { threshold: 0.2 });

            document.querySelectorAll('.scroll-fade').forEach(el => observer.observe(el));
            
            // AI Assistant Toggle
            if (aiToggleBtn) {
                aiToggleBtn.addEventListener('click', () => {
                    aiAssistantPanel.classList.toggle('active');
                });
            }
            if (aiCloseBtn) {
                aiCloseBtn.addEventListener('click', () => {
                    aiAssistantPanel.classList.remove('active');
                });
            }

            // AI Chat Functionality (Simulasi untuk demonstrasi)
            sendAiQueryBtn.addEventListener('click', async () => {
                const userQuery = aiQueryInput.value.trim();
                if (userQuery === '') return;

                // Tambahkan pesan pengguna ke riwayat obrolan
                const userMessageDiv = document.createElement('div');
                userMessageDiv.className = 'ai-message flex justify-end space-x-2';
                userMessageDiv.innerHTML = `
                    <div class="glass-panel-secondary p-3 rounded-lg bg-blue-900/50 text-slate-100">
                        <p>${userQuery}</p>
                    </div>
                    <i class="fas fa-user-astronaut text-sky-400 mt-1"></i>
                `;
                aiChatHistory.appendChild(userMessageDiv);

                // Buat pesan loading
                const loadingMessageDiv = document.createElement('div');
                loadingMessageDiv.className = 'ai-message flex items-start space-x-2';
                loadingMessageDiv.innerHTML = `
                    <i class="fas fa-robot text-violet-400 mt-1"></i>
                    <div class="glass-panel-secondary p-3 rounded-lg text-slate-200">
                        <div class="flex items-center space-x-2">
                            <div class="loading-spinner w-4 h-4 border-2 border-slate-500 border-t-sky-400 rounded-full animate-spin"></div>
                            <p>Memproses...</p>
                        </div>
                    </div>
                `;
                aiChatHistory.appendChild(loadingMessageDiv);
                aiChatHistory.scrollTop = aiChatHistory.scrollHeight;
                aiQueryInput.value = ''; // Kosongkan input

                // Simulasi respons AI dengan penundaan
                setTimeout(() => {
                    loadingMessageDiv.remove();
                    const aiResponse = "Permintaan Anda telah diproses. Semua sistem beroperasi dalam parameter nominal. Analisis lebih lanjut memerlukan otentikasi level Gamma.";
                    const aiResponseDiv = document.createElement('div');
                    aiResponseDiv.className = 'ai-message flex items-start space-x-2';
                    aiResponseDiv.innerHTML = `
                        <i class="fas fa-robot text-violet-400 mt-1"></i>
                        <div class="glass-panel-secondary p-3 rounded-lg text-slate-200">
                            <p>${aiResponse}</p>
                        </div>
                    `;
                    aiChatHistory.appendChild(aiResponseDiv);
                    aiChatHistory.scrollTop = aiChatHistory.scrollHeight;
                }, 2000);
            });
            
            // Carousel Logic
            let currentSlide = 0;
            const totalSlides = carouselContainer.children.length;

            const updateCarousel = () => {
                const slideWidth = carouselContainer.children[0].clientWidth;
                carouselContainer.style.transform = `translateX(-${currentSlide * slideWidth}px)`;
            };

            carouselPrev.addEventListener('click', () => {
                currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                updateCarousel();
            });

            carouselNext.addEventListener('click', () => {
                currentSlide = (currentSlide + 1) % totalSlides;
                updateCarousel();
            });

            window.addEventListener('resize', updateCarousel);
            updateCarousel(); // Initial call
        });
    </script>
</body>
</html>
            font-family: 'Orbitron', sans-serif;
            text-shadow: 0 0 10px var(--primary-glow);
        }

        /* ----------------------- 1️⃣ Static Professional UI ----------------------- */
        /* Glassmorphism Panel with 3D Depth */
        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow), var(--glass-inset);
            transform: perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1);
            transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        /* Neon Glow Accents */
        .neon-text {
            color: #E0E0E0;
            text-shadow: 0 0 5px var(--primary-glow), 0 0 10px var(--primary-glow);
        }

        .neon-button {
            position: relative;
            z-index: 10;
            overflow: hidden;
            transition: all 0.4s ease-out;
            box-shadow: 0 0 10px rgba(14, 165, 233, 0.3);
            background-color: rgba(14, 165, 233, 0.2);
            border: 1px solid rgba(14, 165, 233, 0.5);
        }

        .neon-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 0 20px rgba(14, 165, 233, 0.6), 0 0 30px rgba(14, 165, 233, 0.4);
            background-color: rgba(14, 165, 233, 0.4);
        }

        .neon-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
            transition: all 0.6s ease;
            transform: translate(-50%, -50%);
        }

        .neon-button:hover::before {
            width: 300%;
            height: 300%;
        }

        /* Cinematic Lighting & Effects */
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: radial-gradient(ellipse at center, rgba(15, 20, 25, 0.9) 0%, rgba(2, 2, 4, 1) 100%);
        }

        #vignette {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, rgba(0,0,0,0) 0%, rgba(0,0,0,0.8) 100%);
            pointer-events: none;
            z-index: -1;
        }

        /* Scrolling effects */
        .scroll-fade {
            opacity: 0;
            transform: translateY(20px) scale(0.98);
            transition: opacity 1s cubic-bezier(0.2, 0.8, 0.2, 1), transform 1s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .scroll-fade.is-visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        /* ----------------------- 2️⃣ Hologram & 3D Futuristic ----------------------- */
        .holographic-panel {
            position: relative;
            background: rgba(30, 41, 59, 0.2);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(168, 85, 247, 0.2);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3), inset 0 0 10px rgba(139, 92, 246, 0.1);
            transform: rotateX(20deg) scale(0.9);
            transform-origin: center bottom;
            transition: all 0.8s ease;
            animation: holographic-pulse 5s infinite ease-in-out;
        }

        .holographic-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(0deg, rgba(139, 92, 246, 0.2) 0%, transparent 50%, rgba(139, 92, 246, 0.2) 100%);
            animation: holographic-scan 3s infinite linear;
            pointer-events: none;
        }

        @keyframes holographic-pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.3), inset 0 0 10px rgba(139, 92, 246, 0.1); }
            50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.6), inset 0 0 20px rgba(139, 92, 246, 0.2); }
        }

        @keyframes holographic-scan {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        /* ----------------------- 3️⃣ Interactive Animation / Active UI ----------------------- */
        .interactive-panel {
            transition: all 0.2s ease-out;
            will-change: transform, box-shadow;
        }

        .interactive-element {
            position: relative;
            transition: all 0.3s ease;
            overflow: hidden;
            z-index: 1;
        }

        .interactive-element::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(14, 165, 233, 0.3);
            border-radius: 50%;
            opacity: 0;
            transform: translate(-50%, -50%);
            transition: all 0.4s ease-out;
        }

        .interactive-element:hover::before {
            width: 300px;
            height: 300px;
            opacity: 1;
        }

        /* AI Assistant Panel */
        #ai-assistant-panel {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 320px;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
            transform: scale(0.9) translateX(100%);
            opacity: 0;
            pointer-events: none;
            transition: all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
            z-index: 100;
        }

        #ai-assistant-panel.active {
            transform: scale(1) translateX(0);
            opacity: 1;
            pointer-events: auto;
        }

        #ai-chat-history {
            flex-grow: 1;
            overflow-y: auto;
        }
        
        .ai-message {
            animation: slideInUp 0.3s ease-out forwards;
        }

        /* ----------------------- 4️⃣ Cinematic Sci-Fi Style ----------------------- */
        /* Dynamic Shadows & Volumetric Lighting (simulated with CSS gradients) */
        .volumetric-light {
            position: fixed;
            top: -200px;
            left: 50%;
            width: 1000px;
            height: 1000px;
            background: radial-gradient(circle, rgba(14, 165, 233, 0.2) 0%, transparent 70%);
            animation: light-beam 15s infinite ease-in-out;
            pointer-events: none;
            z-index: -1;
            filter: blur(100px);
        }

        @keyframes light-beam {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(100px); }
        }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            .interactive-panel {
                transform: none !important;
            }
            .holographic-panel {
                transform: none !important;
            }
            .hidden-mobile {
                display: none;
            }
            .flex-col-mobile {
                flex-direction: column;
            }
        }
    </style>
</head>
<body class="bg-slate-900 min-h-screen">
    <!-- Immersive Backgrounds -->
    <div id="starfield"></div>
    <div id="vignette"></div>
    <div class="volumetric-light"></div>
    
    <!-- Main Content Grid -->
    <div id="main-container" class="relative z-10 p-4 md:p-8 min-h-screen flex items-center justify-center">
        
        <!-- Interactive & Floating Panels -->
        <div id="central-panel" class="w-full max-w-6xl interactive-panel grid md:grid-cols-3 gap-4 md:gap-8 transition-all duration-300">
            
            <!-- Left Panel: Profile & Navigation (Static Professional UI) -->
            <div class="glass-panel p-6 rounded-3xl col-span-3 md:col-span-1 shadow-2xl flex flex-col justify-between scroll-fade">
                <div>
                    <!-- Profile Card -->
                    <div class="flex items-center space-x-4 mb-6">
                        <div class="relative w-16 h-16 rounded-full overflow-hidden border-2 border-sky-400">
                            <img src="https://placehold.co/64x64/0f172a/60a5fa?text=U" alt="User Avatar" class="w-full h-full object-cover">
                            <div class="absolute inset-0 rounded-full animate-pulse-slow pointer-events-none" style="box-shadow: inset 0 0 10px #60a5fa, 0 0 15px #60a5fa;"></div>
                        </div>
                        <div>
                            <h2 class="font-orbitron text-xl md:text-2xl font-bold neon-text">User_079_D</h2>
                            <p class="text-sm text-slate-400">Authorized Personnel</p>
                        </div>
                    </div>
                    
                    <!-- Main Navigation -->
                    <nav>
                        <ul class="space-y-2">
                            <li><a href="#" class="block p-4 rounded-xl hover:bg-slate-800/50 transition-colors duration-200 neon-button"><i class="fas fa-home mr-3 text-sky-400"></i> Dashboard</a></li>
                            <li><a href="#" class="block p-4 rounded-xl hover:bg-slate-800/50 transition-colors duration-200 neon-button"><i class="fas fa-cubes mr-3 text-fuchsia-400"></i> Modules</a></li>
                            <li><a href="#" class="block p-4 rounded-xl hover:bg-slate-800/50 transition-colors duration-200 neon-button"><i class="fas fa-database mr-3 text-teal-400"></i> Data Streams</a></li>
                            <li><a href="#" class="block p-4 rounded-xl hover:bg-slate-800/50 transition-colors duration-200 neon-button"><i class="fas fa-cog mr-3 text-slate-400"></i> Settings</a></li>
                        </ul>
                    </nav>
                </div>
                
                <!-- System Status -->
                <div class="mt-8 pt-4 border-t border-slate-700/50">
                    <h3 class="font-orbitron text-lg neon-text mb-2">System Status</h3>
                    <div class="flex items-center text-sm text-green-400">
                        <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"></div>
                        <p>Core systems: Online</p>
                    </div>
                    <div class="flex items-center text-sm text-orange-400 mt-1">
                        <div class="w-2 h-2 bg-orange-500 rounded-full animate-pulse mr-2"></div>
                        <p>Data sync: Syncing...</p>
                    </div>
                </div>
            </div>
            
            <!-- Center Panel: Main Content (Hologram & 3D Futuristic) -->
            <div class="col-span-3 md:col-span-2 holographic-panel p-6 rounded-3xl shadow-2xl flex flex-col justify-between scroll-fade" style="min-height: 70vh;">
                
                <!-- Header -->
                <div class="flex items-center justify-between mb-6">
                    <h1 class="font-orbitron text-3xl md:text-4xl font-black neon-text">Quantum Nexus</h1>
                    <button class="neon-button px-4 py-2 rounded-lg text-sm hidden-mobile" id="ai-toggle-btn">
                        <i class="fas fa-brain mr-2"></i>AI Assistant
                    </button>
                </div>
                
                <!-- Main Carousel -->
                <div class="relative overflow-hidden mb-6" style="height: 300px;">
                    <div id="carousel-container" class="flex transition-transform duration-700 ease-in-out h-full">
                        <!-- Carousel Item 1 -->
                        <div class="w-full flex-shrink-0 flex items-center justify-center p-8 bg-sky-900/10 rounded-2xl border border-sky-400/20">
                            <div class="text-center">
                                <h2 class="font-orbitron text-2xl font-bold neon-text mb-2">Access Galactic Data</h2>
                                <p class="text-slate-400 max-w-lg mx-auto">Explore real-time data streams from across the cosmos. Advanced visualization tools at your fingertips.</p>
                            </div>
                        </div>
                        <!-- Carousel Item 2 -->
                        <div class="w-full flex-shrink-0 flex items-center justify-center p-8 bg-violet-900/10 rounded-2xl border border-violet-400/20">
                            <div class="text-center">
                                <h2 class="font-orbitron text-2xl font-bold neon-text mb-2">Automated Protocol 8-K</h2>
                                <p class="text-slate-400 max-w-lg mx-auto">Initiate automated protocols with the click of a button. Seamless integration with all core modules.</p>
                            </div>
                        </div>
                        <!-- Carousel Item 3 -->
                        <div class="w-full flex-shrink-0 flex items-center justify-center p-8 bg-pink-900/10 rounded-2xl border border-pink-400/20">
                            <div class="text-center">
                                <h2 class="font-orbitron text-2xl font-bold neon-text mb-2">Secure & Encrypted</h2>
                                <p class="text-slate-400 max-w-lg mx-auto">Our infrastructure guarantees 100% data integrity and security with quantum-level encryption.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Carousel Controls -->
                    <button id="carousel-prev" class="absolute top-1/2 -translate-y-1/2 left-4 w-10 h-10 bg-slate-800/50 hover:bg-slate-700/70 rounded-full transition-colors duration-200"><i class="fas fa-chevron-left"></i></button>
                    <button id="carousel-next" class="absolute top-1/2 -translate-y-1/2 right-4 w-10 h-10 bg-slate-800/50 hover:bg-slate-700/70 rounded-full transition-colors duration-200"><i class="fas fa-chevron-right"></i></button>
                </div>
                
                <!-- Action Buttons & Stats (Interactive Animation / Active UI) -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                    <button class="interactive-element neon-button p-4 rounded-xl text-center">
                        <i class="fas fa-sync-alt text-2xl mb-2 text-violet-400"></i>
                        <span class="block text-sm">Sync Modules</span>
                    </button>
                    <button class="interactive-element neon-button p-4 rounded-xl text-center">
                        <i class="fas fa-paper-plane text-2xl mb-2 text-pink-400"></i>
                        <span class="block text-sm">Send Command</span>
                    </button>
                    <button class="interactive-element neon-button p-4 rounded-xl text-center">
                        <i class="fas fa-upload text-2xl mb-2 text-cyan-400"></i>
                        <span class="block text-sm">Upload Data</span>
                    </button>
                    <button class="interactive-element neon-button p-4 rounded-xl text-center">
                        <i class="fas fa-cogs text-2xl mb-2 text-yellow-400"></i>
                        <span class="block text-sm">Manage API</span>
                    </button>
                </div>
                
                <!-- Interactive Chart (Placeholder for Hologram) -->
                <div class="holographic-panel p-6 rounded-3xl flex-grow flex items-center justify-center">
                    <h3 class="font-orbitron text-xl font-bold neon-text">Holographic Data Display</h3>
                    <p class="mt-2 text-slate-400">Interactive charts and dashboards would be here.</p>
                </div>
                
            </div>
            
        </div>
        
    </div>

    <!-- AI Assistant Panel (Cinematic Sci-Fi Style) -->
    <div id="ai-assistant-panel" class="glass-panel rounded-3xl shadow-2xl p-6 hidden-mobile">
        <div class="flex justify-between items-center mb-4 border-b border-slate-700/50 pb-2">
            <h3 class="font-orbitron text-xl neon-text"><i class="fas fa-robot mr-2 text-violet-400"></i>Q_AI Assistant</h3>
            <button id="ai-close-btn" class="text-slate-400 hover:text-red-400 transition-colors"><i class="fas fa-times"></i></button>
        </div>
        
        <div id="ai-chat-history" class="space-y-4 mb-4 text-sm" style="height: 400px;">
            <!-- Chat messages will be appended here -->
            <div class="ai-message flex items-start space-x-2">
                <i class="fas fa-robot text-violet-400 mt-1"></i>
                <div class="glass-panel-secondary p-3 rounded-lg text-slate-200">
                    <p>Hello, I am Q_AI. How may I assist you today?</p>
                </div>
            </div>
        </div>

        <div class="flex items-center space-x-2 mt-auto">
            <textarea id="ai-query-input" class="flex-grow p-3 rounded-xl glass-panel-secondary border-none resize-none focus:outline-none focus:ring-2 focus:ring-sky-500" placeholder="Ask me anything..." rows="1"></textarea>
            <button id="send-ai-query-btn" class="neon-button w-10 h-10 rounded-xl flex items-center justify-center">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>
    
    <!-- JS for Interactive Elements -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const centralPanel = document.getElementById('central-panel');
            const aiAssistantPanel = document.getElementById('ai-assistant-panel');
            const aiToggleBtn = document.getElementById('ai-toggle-btn');
            const aiCloseBtn = document.getElementById('ai-close-btn');
            const aiQueryInput = document.getElementById('ai-query-input');
            const sendAiQueryBtn = document.getElementById('send-ai-query-btn');
            const aiChatHistory = document.getElementById('ai-chat-history');
            const carouselContainer = document.getElementById('carousel-container');
            const carouselPrev = document.getElementById('carousel-prev');
            const carouselNext = document.getElementById('carousel-next');

            // ----------------------- 3️⃣ Interactive Animation / Active UI -----------------------
            // Panel float & shift with cursor
            document.body.addEventListener('mousemove', (e) => {
                const { clientX, clientY } = e;
                const { width, height } = centralPanel.getBoundingClientRect();
                const x = (clientX / window.innerWidth - 0.5) * 50;
                const y = (clientY / window.innerHeight - 0.5) * 50;
                
                centralPanel.style.transform = `perspective(1000px) rotateX(${-y/20}deg) rotateY(${x/20}deg) scale(1)`;

                // Neon glow highlights follow pointer
                document.querySelectorAll('.interactive-element').forEach(el => {
                    const rect = el.getBoundingClientRect();
                    const elX = clientX - rect.left;
                    const elY = clientY - rect.top;
                    el.style.background = `radial-gradient(circle at ${elX}px ${elY}px, rgba(14, 165, 233, 0.3) 0%, transparent 60%)`;
                });
            });

            // Reset transform on mouse leave
            document.body.addEventListener('mouseleave', () => {
                centralPanel.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)`;
            });

            // Scroll Fade-in Animation
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, { threshold: 0.2 });

            document.querySelectorAll('.scroll-fade').forEach(el => observer.observe(el));
            
            // AI Assistant Toggle
            aiToggleBtn.addEventListener('click', () => {
                aiAssistantPanel.classList.toggle('active');
            });
            aiCloseBtn.addEventListener('click', () => {
                aiAssistantPanel.classList.remove('active');
            });

            // AI Chat Functionality (Placeholder for LLM call)
            sendAiQueryBtn.addEventListener('click', async () => {
                const userQuery = aiQueryInput.value.trim();
                if (userQuery === '') return;

                // Add user message to chat history
                const userMessageDiv = document.createElement('div');
                userMessageDiv.className = 'ai-message flex justify-end space-x-2';
                userMessageDiv.innerHTML = `
                    <div class="glass-panel-secondary p-3 rounded-lg bg-blue-900/50 text-slate-100">
                        <p>${userQuery}</p>
                    </div>
                    <i class="fas fa-user-astronaut text-sky-400 mt-1"></i>
                `;
                aiChatHistory.appendChild(userMessageDiv);
                aiChatHistory.scrollTop = aiChatHistory.scrollHeight;

                // Create a temporary loading message for the AI response
                const loadingMessageDiv = document.createElement('div');
                loadingMessageDiv.className = 'ai-message flex items-start space-x-2';
                loadingMessageDiv.innerHTML = `
                    <i class="fas fa-robot text-violet-400 mt-1"></i>
                    <div class="glass-panel-secondary p-3 rounded-lg text-slate-200">
                        <div class="flex items-center space-x-2">
                            <div class="loading-spinner w-4 h-4 border-2 border-slate-500 border-t-sky-400 rounded-full animate-spin"></div>
                            <p>Processing...</p>
                        </div>
                    </div>
                `;
                aiChatHistory.appendChild(loadingMessageDiv);
                aiChatHistory.scrollTop = aiChatHistory.scrollHeight;

                aiQueryInput.value = '';

                // Simulate AI Response with a delay
                setTimeout(() => {
                    loadingMessageDiv.remove();
                    const aiResponse = "I have processed your request. All systems are operating within nominal parameters. Further analysis requires authentication level Gamma.";
                    const aiResponseDiv = document.createElement('div');
                    aiResponseDiv.className = 'ai-message flex items-start space-x-2';
                    aiResponseDiv.innerHTML = `
                        <i class="fas fa-robot text-violet-400 mt-1"></i>
                        <div class="glass-panel-secondary p-3 rounded-lg text-slate-200">
                            <p>${aiResponse}</p>
                        </div>
                    `;
                    aiChatHistory.appendChild(aiResponseDiv);
                    aiChatHistory.scrollTop = aiChatHistory.scrollHeight;
                }, 2000);
            });

            // ----------------------- Carousel Logic -----------------------
            let currentSlide = 0;
            const totalSlides = carouselContainer.children.length;

            const updateCarousel = () => {
                const slideWidth = carouselContainer.children[0].clientWidth;
                carouselContainer.style.transform = `translateX(-${currentSlide * slideWidth}px)`;
            };

            carouselPrev.addEventListener('click', () => {
                currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                updateCarousel();
            });

            carouselNext.addEventListener('click', () => {
                currentSlide = (currentSlide + 1) % totalSlides;
                updateCarousel();
            });

            // Responsive carousel
            window.addEventListener('resize', updateCarousel);
        });
    </script>
</body>
</html>
        body.light-mode .text-slate-400 {
            color: #777;
        }
        body.light-mode .text-sky-300 {
            color: #0c4a6e; /* Darker blue for light mode */
        }
        body.light-mode .text-blue-400 {
            color: #1e40af;
        }
        body.light-mode .text-green-400 {
            color: #166534;
        }
        body.light-mode .text-purple-400 {
            color: #6d28d9;
        }
        body.light-mode .text-red-400 {
            color: #b91c1c;
        }

        /* Enhanced Starfield for background */
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: radial-gradient(ellipse at center, #0f1419 0%, #020204 100%);
        }
        body.light-mode #starfield {
            background: radial-gradient(ellipse at center, #e0e0e0 0%, #f5f5f5 100%);
        }

        /* Advanced Glassmorphism effect for panels */
        .glass-panel {
            background: rgba(15, 23, 42, 0.3);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(56, 189, 248, 0.2);
            box-shadow:
                0 8px 32px 0 rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: background 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
        }
        body.light-mode .glass-panel {
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow:
                0 8px 32px 0 rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(0, 0, 0, 0.05);
        }

        .glass-panel-secondary {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(15px) saturate(150%);
            -webkit-backdrop-filter: blur(15px) saturate(150%);
            border: 1px solid rgba(100, 116, 139, 0.2);
            box-shadow:
                0 4px 24px 0 rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            transition: background 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
        }
        body.light-mode .glass-panel-secondary {
            background: rgba(240, 240, 240, 0.7);
            border: 1px solid rgba(150, 150, 150, 0.2);
            box-shadow:
                0 4px 24px 0 rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        /* Holographic animation for header */
        .holographic {
            background: linear-gradient(45deg,
                rgba(56, 189, 248, 0.1) 0%,
                rgba(168, 85, 247, 0.1) 25%,
                rgba(236, 72, 153, 0.1) 50%,
                rgba(56, 189, 248, 0.1) 75%,
                rgba(168, 85, 247, 0.1) 100%);
            background-size: 400% 400%;
            animation: holographicShift 8s ease infinite;
            transition: background 0.5s ease;
        }
        body.light-mode .holographic {
            background: linear-gradient(45deg,
                rgba(14, 165, 233, 0.1) 0%,
                rgba(109, 40, 217, 0.1) 25%,
                rgba(234, 88, 12, 0.1) 50%,
                rgba(14, 165, 233, 0.1) 75%,
                rgba(109, 40, 217, 0.1) 100%);
        }

        @keyframes holographicShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Enhanced Tab Buttons styling */
        .tab-btn {
            position: relative;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-shadow: 0 0 10px rgba(56, 189, 248, 0.5);
            overflow: hidden;
            white-space: nowrap; /* Prevent text wrapping */
            flex-shrink: 0; /* Prevent shrinking on smaller screens */
            min-width: 120px; /* Minimum width for each tab */
            color: #E0E0E0; /* Default dark mode color */
        }
        body.light-mode .tab-btn {
            color: #333; /* Light mode color */
            text-shadow: none;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(56, 189, 248, 0.3), transparent);
            transition: left 0.8s;
        }
        body.light-mode .tab-btn::before {
            background: linear-gradient(90deg, transparent, rgba(14, 165, 233, 0.1), transparent);
        }

        .tab-btn:hover::before {
            left: 100%;
        }

        .tab-btn.active {
            background: rgba(56, 189, 248, 0.25);
            color: #f0f9ff;
            border-bottom-color: #0ea5e9;
            box-shadow: 0 0 20px rgba(14, 165, 233, 0.4);
        }
        body.light-mode .tab-btn.active {
            background: rgba(14, 165, 233, 0.1);
            color: #0c4a6e;
            border-bottom-color: #0c4a6e;
            box-shadow: 0 0 15px rgba(14, 165, 233, 0.2);
        }

        /* Enhanced Payment Method Buttons styling */
        .method-btn {
            position: relative;
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(100, 116, 139, 0.3);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            color: #E0E0E0;
        }
        body.light-mode .method-btn {
            background: rgba(240, 240, 240, 0.7);
            border: 1px solid rgba(150, 150, 150, 0.3);
            color: #333;
        }

        .method-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(14, 165, 233, 0.3) 0%, transparent 70%);
            transition: all 0.6s ease;
            transform: translate(-50%, -50%);
        }
        body.light-mode .method-btn::before {
            background: radial-gradient(circle, rgba(14, 165, 233, 0.1) 0%, transparent 70%);
        }

        .method-btn:hover::before {
            width: 200%;
            height: 200%;
        }

        .method-btn:hover {
            background: rgba(56, 189, 248, 0.15);
            border-color: #0ea5e9;
            transform: translateY(-5px) scale(1.02);
            box-shadow:
                0 10px 25px rgba(14, 165, 233, 0.3),
                0 0 15px rgba(14, 165, 233, 0.2);
        }
        body.light-mode .method-btn:hover {
            background: rgba(14, 165, 233, 0.05);
            border-color: #0c4a6e;
            box-shadow:
                0 10px 25px rgba(14, 165, 233, 0.1),
                0 0 15px rgba(14, 165, 233, 0.05);
        }

        .method-btn.active {
            background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            color: #ffffff;
            font-weight: 700;
            border-color: #0ea5e9;
            box-shadow:
                0 15px 30px rgba(14, 165, 233, 0.4),
                0 0 25px rgba(14, 165, 233, 0.3);
            transform: translateY(-3px) scale(1.05);
        }
        body.light-mode .method-btn.active {
            background: linear-gradient(135deg, #0c4a6e 0%, #075985 100%);
            color: #ffffff;
            border-color: #075985;
            box-shadow:
                0 15px 30px rgba(12, 74, 110, 0.3),
                0 0 25px rgba(12, 74, 110, 0.2);
        }

        /* New: Button pressed animation */
        .method-btn.pressed, .tab-btn.pressed, #music-toggle-btn.pressed, #show-qris-btn.pressed, #qris-close-btn.pressed, #send-ai-query-btn.pressed, #chatbot-toggle.pressed, #chatbot-close-btn.pressed, #theme-toggle.pressed {
            transform: scale(0.95);
            transition: transform 0.1s ease-out;
        }

        /* Profile Image Enhancement with glowing border */
        .profile-img {
            position: relative;
            transition: all 0.5s ease;
        }

        .profile-img::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: linear-gradient(45deg, #0ea5e9, #8b5cf6, #ec4899, #0ea5e9);
            background-size: 400% 400%;
            border-radius: 50%;
            z-index: -1;
            animation: gradientSpin 4s ease infinite;
        }
        body.light-mode .profile-img::before {
            background: linear-gradient(45deg, #0c4a6e, #6d28d9, #c2410c, #0c4a6e);
        }

        @keyframes gradientSpin {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .profile-img:hover {
            transform: scale(1.1) rotate(5deg);
        }

        /* Keyframe animations for various elements */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulseGlow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(14, 165, 233, 0.4);
                border-color: rgba(14, 165, 233, 0.6);
            }
            50% {
                box-shadow: 0 0 40px rgba(14, 165, 233, 0.8);
                border-color: rgba(14, 165, 233, 1);
            }
        }
        body.light-mode @keyframes pulseGlow {
            0%, 100% {
                box-shadow: 0 0 15px rgba(12, 74, 110, 0.2);
                border-color: rgba(12, 74, 110, 0.4);
            }
            50% {
                box-shadow: 0 0 30px rgba(12, 74, 110, 0.4);
                border-color: rgba(12, 74, 110, 0.6);
            }
        }

        @keyframes floatAnimation {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        /* Applying animations with Tailwind classes */
        .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
        .animate-slideInLeft { animation: slideInLeft 0.6s ease-out forwards; }
        .animate-slideInRight { animation: slideInRight 0.6s ease-out forwards; }
        .animate-pulseGlow { animation: pulseGlow 3s infinite; }
        .animate-float { animation: floatAnimation 3s ease-in-out infinite; }

        /* New: Warp Speed Transitions */
        @keyframes warpOut {
            0% {
                opacity: 1;
                transform: scale(1);
                filter: blur(0px);
            }
            100% {
                opacity: 0;
                transform: scale(0.95);
                filter: blur(5px);
            }
        }

        @keyframes warpIn {
            0% {
                opacity: 0;
                transform: scale(0.95);
                filter: blur(5px);
            }
            100% {
                opacity: 1;
                transform: scale(1);
                filter: blur(0px);
            }
        }

        .animate-warp-out {
            animation: warpOut 0.3s ease-out forwards;
        }

        .animate-warp-in {
            animation: warpIn 0.5s ease-out forwards;
        }

        /* QR Code Container styling */
        .qr-container {
            position: relative;
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 20px;
            padding: 20px;
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 30px rgba(14, 165, 233, 0.2);
            transition: background 0.5s ease, box-shadow 0.5s ease;
        }
        body.light-mode .qr-container {
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.1),
                0 0 30px rgba(12, 74, 110, 0.1);
        }

        .qr-container::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, #0ea5e9, #8b5cf6, #ec4899, #0ea5e9);
            background-size: 400% 400%;
            border-radius: 23px;
            z-index: -1;
            animation: gradientSpin 6s ease infinite;
        }
        body.light-mode .qr-container::before {
            background: linear-gradient(45deg, #0c4a6e, #6d28d9, #c2410c, #0c4a6e);
        }

        /* Enhanced Notification styling */
        .notification {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border: 1px solid rgba(16, 185, 129, 0.3);
            box-shadow:
                0 10px 25px rgba(16, 185, 129, 0.3),
                0 0 20px rgba(16, 185, 129, 0.2);
            transition: all 0.5s ease;
        }
        body.light-mode .notification {
            background: linear-gradient(135deg, #047857 0%, #065f46 100%);
        }


        /* Particle Effects styling */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(56, 189, 248, 0.6);
            border-radius: 50%;
            pointer-events: none;
            animation: particleFloat 4s linear infinite;
        }
        body.light-mode .particle {
            background: rgba(14, 165, 233, 0.4);
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 640px) {
            .glass-panel {
                margin: 1rem;
                border-radius: 1rem;
            }

            .method-btn {
                padding: 0.75rem;
                font-size: 0.875rem;
            }

            /* Adjust header font size for smaller screens */
            h1 {
                font-size: 2.5rem; /* Smaller font for h1 on mobile */
            }
            p {
                font-size: 0.9rem; /* Smaller font for general paragraphs */
            }
            .tab-btn {
                font-size: 0.9rem; /* Smaller font for tabs */
                padding: 1rem 0.5rem; /* Adjust padding for tabs */
            }
            .profile-img {
                width: 100px;
                height: 100px;
            }
            .sound-wave {
                top: 10px;
                left: 10px;
            }
            .qr-container {
                padding: 15px;
            }
            #qris-modal-content {
                padding: 20px;
            }
            #qris-close-btn {
                font-size: 1.5rem;
                top: 10px;
                right: 10px;
            }
            #chatbot-window {
                width: calc(100% - 2rem); /* Full width minus padding */
                left: 1rem;
                bottom: 80px; /* Adjust for mobile button */
                max-height: 70vh; /* Limit height on mobile */
            }
            #chatbot-toggle {
                bottom: 20px;
                left: 20px;
            }
            #theme-toggle {
                top: 20px;
                right: 20px;
            }
            #music-toggle-btn {
                bottom: 20px;
                right: 80px; /* Adjust position for mobile */
            }
        }

        /* Loading Spinner animation */
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(56, 189, 248, 0.3);
            border-top: 4px solid #38bdf8;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        body.light-mode .loading-spinner {
            border-color: rgba(14, 165, 233, 0.3);
            border-top-color: #0c4a6e;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Sound Wave Animation for header */
        .sound-wave {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2px;
        }

        .sound-wave div {
            width: 3px;
            height: 20px;
            background: linear-gradient(to top, #0ea5e9, #38bdf8);
            border-radius: 2px;
            animation: soundWave 1.5s ease-in-out infinite;
        }
        body.light-mode .sound-wave div {
            background: linear-gradient(to top, #0c4a6e, #075985);
        }

        .sound-wave div:nth-child(2) { animation-delay: 0.1s; }
        .sound-wave div:nth-child(3) { animation-delay: 0.2s; }
        .sound-wave div:nth-child(4) { animation-delay: 0.3s; }
        .sound-wave div:nth-child(5) { animation-delay: 0.4s; }

        @keyframes soundWave {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(0.3); }
        }

        /* Music Toggle Button */
        #music-toggle-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        body.light-mode #music-toggle-btn {
            background: linear-gradient(135deg, #6d28d9 0%, #4c1d95 100%);
            box-shadow: 0 5px 15px rgba(109, 40, 217, 0.4);
        }

        #music-toggle-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.6);
        }
        body.light-mode #music-toggle-btn:hover {
            box-shadow: 0 8px 20px rgba(109, 40, 217, 0.6);
        }

        /* QRIS Modal Overlay */
        #qris-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7); /* Semi-transparent dark background */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 1000; /* Ensure it's above other content */
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0; /* Start hidden */
            visibility: hidden; /* Start hidden */
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        body.light-mode #qris-modal-overlay {
            background: rgba(0, 0, 0, 0.5);
        }

        #qris-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        #qris-modal-content {
            position: relative;
            background: rgba(15, 23, 42, 0.8); /* Glassmorphism for modal content */
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(56, 189, 248, 0.2);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);
            text-align: center;
            max-width: 90%; /* Responsive width */
            width: fit-content; /* Adjust width to content */
            transform: scale(0.8); /* Start smaller for animation */
            opacity: 0; /* Start hidden */
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        body.light-mode #qris-modal-content {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        #qris-modal-overlay.active #qris-modal-content {
            transform: scale(1); /* Scale up when active */
            opacity: 1;
        }

        #qris-close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: #E0E0E0;
            font-size: 1.8rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        body.light-mode #qris-close-btn {
            color: #555;
        }

        #qris-close-btn:hover {
            color: #ef4444; /* Red color on hover */
        }

        /* AI Assistant specific styles */
        #ai-assistant-section {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(15px) saturate(150%);
            -webkit-backdrop-filter: blur(15px) saturate(150%);
            border: 1px solid rgba(100, 116, 139, 0.2);
            box-shadow: 0 4px 24px 0 rgba(0, 0, 0, 0.3);
            transition: background 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
        }
        body.light-mode #ai-assistant-section {
            background: rgba(240, 240, 240, 0.7);
            border: 1px solid rgba(150, 150, 150, 0.2);
            box-shadow: 0 4px 24px 0 rgba(0, 0, 0, 0.1);
        }

        #ai-query-input {
            width: 100%;
            padding: 1rem;
            border-radius: 0.75rem;
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(56, 189, 248, 0.3);
            color: #E0E0E0;
            resize: vertical;
            min-height: 80px;
            transition: background 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease, color 0.5s ease;
        }
        body.light-mode #ai-query-input {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(14, 165, 233, 0.2);
            color: #333;
        }

        #ai-query-input:focus {
            outline: none;
            border-color: #38bdf8;
            box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.3);
        }
        body.light-mode #ai-query-input:focus {
            border-color: #0c4a6e;
            box-shadow: 0 0 0 3px rgba(12, 74, 110, 0.2);
        }

        #ai-response-area {
            min-height: 120px;
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(100, 116, 139, 0.2);
            border-radius: 0.75rem;
            padding: 1rem;
            color: #f0f9ff;
            text-align: left;
            overflow-y: auto;
            white-space: pre-wrap; /* Preserve whitespace and wrap text */
            word-wrap: break-word; /* Break long words */
            transition: background 0.5s ease, border-color 0.5s ease, color 0.5s ease;
        }
        body.light-mode #ai-response-area {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(150, 150, 150, 0.2);
            color: #333;
        }

        /* Rent Card Specific Styles */
        .rent-card {
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(100, 116, 139, 0.3);
            transition: all 0.3s ease;
        }
        body.light-mode .rent-card {
            background: rgba(240, 240, 240, 0.7);
            border: 1px solid rgba(150, 150, 150, 0.3);
        }
        .rent-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 30px rgba(14, 165, 233, 0.3);
        }
        body.light-mode .rent-card:hover {
            box-shadow: 0 15px 30px rgba(12, 74, 110, 0.15);
        }
        .rent-card .price {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            color: #38bdf8;
            text-shadow: 0 0 10px rgba(56, 189, 248, 0.5);
            transition: color 0.5s ease, text-shadow 0.5s ease;
        }
        body.light-mode .rent-card .price {
            color: #0c4a6e;
            text-shadow: none;
        }

        /* Chatbot specific styles */
        #chatbot-window {
            width: 320px;
            height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(15px) saturate(150%);
            -webkit-backdrop-filter: blur(15px) saturate(150%);
            border: 1px solid rgba(100, 116, 139, 0.2);
            box-shadow: 0 4px 24px 0 rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease-out; /* For slide and fade animation */
            transform: translateX(-100%); /* Start off-screen */
            opacity: 0;
            pointer-events: none; /* Disable interaction when hidden */
        }
        #chatbot-window.active {
            transform: translateX(0);
            opacity: 1;
            pointer-events: auto;
        }
        body.light-mode #chatbot-window {
            background: rgba(240, 240, 240, 0.7);
            border: 1px solid rgba(150, 150, 150, 0.2);
            box-shadow: 0 4px 24px 0 rgba(0, 0, 0, 0.1);
        }

        #chat-history {
            flex-grow: 1;
            overflow-y: auto;
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(100, 116, 139, 0.2);
            border-radius: 0.5rem;
            padding: 0.75rem;
            color: #f0f9ff;
            margin-bottom: 0.75rem;
            transition: background 0.5s ease, border-color 0.5s ease, color 0.5s ease;
        }
        body.light-mode #chat-history {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(150, 150, 150, 0.2);
            color: #333;
        }
        #chat-history p strong {
            color: #38bdf8;
        }
        body.light-mode #chat-history p strong {
            color: #0c4a6e;
        }


        #chat-input {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.5rem;
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(56, 189, 248, 0.3);
            color: #E0E0E0;
            transition: background 0.5s ease, border-color 0.5s ease, color 0.5s ease;
        }
        body.light-mode #chat-input {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(14, 165, 233, 0.2);
            color: #333;
        }

        #chat-input:focus {
            outline: none;
            border-color: #38bdf8;
            box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.3);
        }
        body.light-mode #chat-input:focus {
            border-color: #0c4a6e;
            box-shadow: 0 0 0 3px rgba(12, 74, 110, 0.2);
        }

        /* Confetti styles */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: hsl(var(--hue), 70%, 50%);
            top: -20px;
            border-radius: 50%;
            animation: fall 3s ease-out forwards;
            z-index: 9999;
            --hue: 0;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotateZ(360deg);
                opacity: 0;
            }
        }

        /* Theme Toggle Button */
        #theme-toggle {
            background: linear-gradient(135deg, #facc15 0%, #eab308 100%);
            color: #1f2937;
            transition: all 0.3s ease;
        }
        body.light-mode #theme-toggle {
            background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
            color: #facc15;
        }
        #theme-toggle:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(250, 204, 21, 0.4);
        }
        body.light-mode #theme-toggle:hover {
            box-shadow: 0 5px 15px rgba(55, 65, 81, 0.4);
        }

    </style>
</head>
<body class="bg-slate-900 min-h-screen">

    <canvas id="starfield"></canvas>

    <!-- Particle Container -->
    <div id="particles-container" class="fixed inset-0 pointer-events-none z-0"></div>

    <div class="min-h-screen flex items-center justify-center p-4 animate-fadeInUp">
        <main class="w-full max-w-3xl glass-panel rounded-3xl overflow-hidden shadow-2xl">

            <!-- Enhanced Header -->
            <header class="holographic p-8 border-b border-slate-700/30 text-center relative overflow-hidden">
                <div class="sound-wave absolute top-4 left-4 opacity-50">
                    <div></div><div></div><div></div><div></div><div></div>
                </div>

                <div class="profile-img w-32 h-32 rounded-full mx-auto mb-6 animate-float">
                    <img src="https://files.catbox.moe/4ya0zn.jpg" alt="Profil Developer" class="w-full h-full rounded-full object-cover border-4 border-slate-700 shadow-2xl">
                </div>

                <h1 class="text-4xl md:text-5xl font-bold tracking-wider text-white mb-2 animate-slideInLeft">
                    MIWAAI PAYMENT
                </h1>
                <p class="text-slate-300 text-lg animate-slideInRight">
                    <i class="fas fa-rocket mr-2"></i>
                    Next-Gen Payment Gateway by MiwaaGOD
                </p>

                <div class="absolute top-4 right-4 opacity-30">
                    <i class="fas fa-satellite text-3xl text-sky-400"></i>
                </div>
            </header>

            <!-- Enhanced Navigation -->
            <!-- Added overflow-x-auto for horizontal scrolling on small screens -->
            <nav class="flex glass-panel-secondary border-b-2 border-slate-800/50 relative overflow-x-auto">
                <button id="dashboard-tab" class="tab-btn active flex-shrink-0 p-6 text-lg md:text-xl font-orbitron border-b-4 border-transparent relative z-10">
                    <i class="fas fa-tachometer-alt mr-3 text-xl"></i>
                    <span>Dashboard</span>
                </button>
                <button id="ai-tab" class="tab-btn flex-shrink-0 p-6 text-lg md:text-xl font-orbitron border-b-4 border-transparent relative z-10">
                    <i class="fas fa-robot mr-3 text-xl"></i>
                    <span>AI Assistant</span>
                </button>
                <button id="rent-tab" class="tab-btn flex-shrink-0 p-6 text-lg md:text-xl font-orbitron border-b-4 border-transparent relative z-10">
                    <i class="fas fa-handshake mr-3 text-xl"></i>
                    <span>Sewa</span>
                </button>
                <button id="contact-tab" class="tab-btn flex-shrink-0 p-6 text-lg md:text-xl font-orbitron border-b-4 border-transparent relative z-10">
                    <i class="fas fa-user-astronaut mr-3 text-xl"></i>
                    <span>Hubungi Dev</span>
                </button>

                <!-- Active Tab Indicator -->
                <div id="tab-indicator" class="absolute bottom-0 h-1 bg-gradient-to-r from-sky-400 to-blue-500 transition-all duration-500 ease-out"></div>
            </nav>

            <!-- Enhanced Content -->
            <div id="content-views-container" class="relative min-h-[500px]">
                <!-- Dashboard View -->
                <div id="dashboard-view" class="p-8">
                    <div id="payment-content">

                        <!-- Payment Type Selection -->
                        <div class="flex flex-col md:flex-row justify-center gap-6 mb-8">
                            <button data-type="ewallet" class="payment-type-btn method-btn active px-8 py-4 rounded-xl text-lg font-semibold">
                                <i class="fas fa-wallet mr-3 text-xl"></i>E-Wallet
                            </button>
                            <button data-type="qris" class="payment-type-btn method-btn px-8 py-4 rounded-xl text-lg font-semibold">
                                <i class="fas fa-qrcode mr-3 text-xl"></i>QRIS
                            </button>
                        </div>

                        <!-- E-Wallet View -->
                        <div id="ewallet-view">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                                <button data-method="dana" class="ewallet-method-btn method-btn p-6 rounded-xl text-center text-xl font-semibold transition-all duration-300 hover:scale-105">
                                    <i class="fas fa-mobile-alt text-2xl mb-2 block text-blue-400"></i>
                                    DANA
                                </button>
                                <button data-method="gopay" class="ewallet-method-btn method-btn p-6 rounded-xl text-center text-xl font-semibold transition-all duration-300 hover:scale-105">
                                    <i class="fas fa-credit-card text-2xl mb-2 block text-green-400"></i>
                                    GOPAY
                                </button>
                                <button data-method="ovo" class="ewallet-method-btn method-btn p-6 rounded-xl text-center text-xl font-semibold transition-all duration-300 hover:scale-105">
                                    <i class="fas fa-coins text-2xl mb-2 block text-purple-400"></i>
                                    OVO
                                </button>
                            </div>

                            <div id="details-container" class="glass-panel-secondary rounded-2xl p-8 text-center min-h-[180px] flex flex-col justify-center items-center border-2 border-slate-700/50">
                                <div id="placeholder" class="text-slate-400">
                                    <div class="animate-float">
                                        <i class="fas fa-arrow-up text-4xl mb-4 text-sky-400"></i>
                                        <p class="text-lg">Pilih metode pembayaran favorit Anda</p>
                                    </div>
                                </div>

                                <div id="details" class="hidden w-full">
                                    <div class="mb-6">
                                        <p class="text-slate-300 text-lg mb-4">
                                            Transfer ke <span id="method-name" class="font-bold text-sky-300"></span>:
                                        </p>
                                        <div class="flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-6">
                                            <div class="glass-panel px-6 py-4 rounded-xl">
                                                <p id="payment-number" class="text-2xl sm:text-3xl font-orbitron text-sky-300 font-bold"></p>
                                            </div>
                                            <button id="copy-btn" title="Salin Nomor" class="method-btn active w-12 h-12 sm:w-14 sm:h-14 rounded-full text-xl flex items-center justify-center shadow-2xl hover:scale-110 transition-all duration-300">
                                                <i class="far fa-copy"></i>
                                            </button>
                                        </div>
                                    </div>

                                    <div class="text-sm text-slate-400 space-y-2">
                                        <p><i class="fas fa-info-circle mr-2"></i>Pastikan nama penerima sudah benar</p>
                                        <p><i class="fas fa-clock mr-2"></i>Pembayaran akan diproses dalam 1-3 menit</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Enhanced QRIS View -->
                        <div id="qris-view" class="hidden text-center">
                            <div class="mb-6">
                                <h3 class="text-2xl font-orbitron mb-4 text-sky-300">
                                    <i class="fas fa-qrcode mr-3"></i>QR Code Pembayaran
                                </h3>
                                <p class="text-slate-300 text-lg">Klik tombol di bawah untuk menampilkan QR Code</p>
                            </div>

                            <!-- New: Button to show QRIS as an overlay -->
                            <button id="show-qris-btn" class="method-btn active px-8 py-4 rounded-xl text-lg font-semibold mb-6">
                                <i class="fas fa-eye mr-3 text-xl"></i>Tampilkan QR Code
                            </button>

                            <div class="glass-panel-secondary rounded-xl p-6 max-w-md mx-auto">
                                <div class="flex items-center justify-center mb-4">
                                    <i class="fas fa-shield-alt text-green-400 text-2xl mr-3"></i>
                                    <span class="text-lg font-semibold text-green-300">Pembayaran Aman</span>
                                </div>
                                <div class="text-sm text-slate-400 space-y-2">
                                    <p><i class="fas fa-check mr-2 text-green-400"></i>Dienkripsi dengan teknologi terdepan</p>
                                    <p><i class="fas fa-check mr-2 text-green-400"></i>Kompatibel dengan semua e-wallet</p>
                                    <p><i class="fas fa-check mr-2 text-green-400"></i>Proses instan 24/7</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI Assistant View -->
                <div id="ai-assistant-view" class="p-8 hidden">
                    <div class="text-center">
                        <h2 class="text-3xl font-orbitron mb-8 text-sky-300">
                            <i class="fas fa-robot mr-3"></i>
                            AI Assistant
                        </h2>

                        <div id="ai-assistant-section" class="rounded-2xl p-8 mb-8">
                            <div class="mb-6">
                                <label for="ai-query-input" class="block text-left text-slate-300 text-lg font-semibold mb-2">
                                    Ajukan pertanyaan Anda:
                                </label>
                                <textarea id="ai-query-input" placeholder="Contoh: Apa itu gateway pembayaran?" class="rounded-xl"></textarea>
                            </div>

                            <button id="send-ai-query-btn" class="method-btn active px-8 py-4 rounded-xl text-lg font-semibold mb-6 w-full">
                                <i class="fas fa-paper-plane mr-3 text-xl"></i>Kirim Pertanyaan
                            </button>

                            <div id="ai-response-area" class="rounded-xl p-4 text-left relative">
                                <p class="text-slate-400">Jawaban AI akan muncul di sini...</p>
                                <div id="ai-loading-spinner" class="hidden absolute inset-0 flex items-center justify-center bg-slate-800/70 rounded-xl">
                                    <div class="loading-spinner"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Rent View -->
                <div id="rent-view" class="p-8 hidden">
                    <div class="text-center">
                        <h2 class="text-3xl font-orbitron mb-8 text-sky-300">
                            <i class="fas fa-handshake mr-3"></i>
                            Sewa Layanan
                        </h2>

                        <p class="text-slate-300 text-lg mb-8">Pilih paket sewa yang sesuai dengan kebutuhan Anda.</p>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <!-- 7 Days Package -->
                            <div class="rent-card glass-panel-secondary rounded-2xl p-6 flex flex-col items-center justify-between">
                                <div class="text-center">
                                    <i class="fas fa-calendar-week text-5xl text-purple-400 mb-4"></i>
                                    <h3 class="text-2xl font-bold text-white mb-2">7 Hari</h3>
                                    <p class="text-slate-400 mb-4">Akses singkat untuk kebutuhan mendesak.</p>
                                </div>
                                <div class="flex flex-col items-center">
                                    <p class="price text-4xl mb-4">Rp5K</p> <!-- Updated price -->
                                    <a href="https://t.me/miwasogg" target="_blank" rel="noopener noreferrer" class="rent-now-btn method-btn active px-6 py-3 rounded-xl text-base font-semibold">
                                        Sewa Sekarang
                                    </a>
                                </div>
                            </div>

                            <!-- 1 Month Package -->
                            <div class="rent-card glass-panel-secondary rounded-2xl p-6 flex flex-col items-center justify-between">
                                <div class="text-center">
                                    <i class="fas fa-calendar-alt text-5xl text-green-400 mb-4"></i>
                                    <h3 class="text-2xl font-bold text-white mb-2">1 Bulan</h3>
                                    <p class="text-slate-400 mb-4">Solusi ideal untuk penggunaan bulanan.</p>
                                </div>
                                <div class="flex flex-col items-center">
                                    <p class="price text-4xl mb-4">Rp15K</p> <!-- Updated price -->
                                    <a href="https://t.me/miwasogg" target="_blank" rel="noopener noreferrer" class="rent-now-btn method-btn active px-6 py-3 rounded-xl text-base font-semibold">
                                        Sewa Sekarang
                                    </a>
                                </div>
                            </div>

                            <!-- 1 Year Package -->
                            <div class="rent-card glass-panel-secondary rounded-2xl p-6 flex flex-col items-center justify-between">
                                <div class="text-center">
                                    <i class="fas fa-calendar-check text-5xl text-red-400 mb-4"></i>
                                    <h3 class="text-2xl font-bold text-white mb-2">1 Tahun</h3>
                                    <p class="text-slate-400 mb-4">Hemat lebih banyak dengan paket tahunan.</p>
                                </div>
                                <div class="flex flex-col items-center">
                                    <p class="price text-4xl mb-4">Rp100K</p> <!-- Updated price -->
                                    <a href="https://t.me/miwasogg" target="_blank" rel="noopener noreferrer" class="rent-now-btn method-btn active px-6 py-3 rounded-xl text-base font-semibold">
                                        Sewa Sekarang
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Contact View -->
                <div id="contact-view" class="p-8 hidden">
                    <div class="text-center">
                        <h2 class="text-3xl font-orbitron mb-8 text-sky-300">
                            <i class="fas fa-satellite-dish mr-3"></i>
                            Hubungi Developer
                        </h2>

                        <div class="glass-panel-secondary rounded-2xl p-8 mb-8">
                            <div class="flex items-center justify-center mb-6">
                                <div class="w-20 h-20 rounded-full bg-gradient-to-br from-sky-400 to-blue-600 flex items-center justify-center">
                                    <i class="fas fa-code text-3xl text-white"></i>
                                </div>
                            </div>
                            <h3 class="text-2xl font-bold mb-4 text-white">MiwaaGOD</h3>
                            <p class="text-slate-300 text-lg mb-6">Full Stack Developer & Payment Gateway Specialist</p>
                            <div class="text-sm text-slate-400">
                                <p><i class="fas fa-clock mr-2"></i>Response Time: 1-2 Hours</p>
                                <p><i class="fas fa-globe mr-2"></i>Available 24/7</p>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <a href="https://wa.me/628174731245" target="_blank" rel="noopener noreferrer" class="method-btn group flex items-center justify-center px-8 py-6 rounded-xl text-lg font-semibold transition-all duration-300 hover:scale-105">
                                <i class="fab fa-whatsapp text-3xl mr-4 text-green-400 group-hover:scale-110 transition-transform duration-300"></i>
                                <div class="text-left">
                                    <div class="font-bold">WhatsApp</div>
                                    <div class="text-sm text-slate-400">Chat langsung</div>
                                </div>
                            </a>
                            <a href="https://t.me/miwasogg" target="_blank" rel="noopener noreferrer" class="method-btn group flex items-center justify-center px-8 py-6 rounded-xl text-lg font-semibold transition-all duration-300 hover:scale-105">
                                <i class="fab fa-telegram text-3xl mr-4 text-sky-400 group-hover:scale-110 transition-transform duration-300"></i>
                                <div class="text-left">
                                    <div class="font-bold">Telegram</div>
                                    <div class="text-sm text-slate-400">Pesan instan</div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Enhanced Notification -->
    <div id="notification" class="fixed bottom-8 left-1/2 -translate-x-1/2 notification py-4 px-8 rounded-2xl text-white transition-all duration-500 opacity-0 -translate-y-10 pointer-events-none">
        <div class="flex items-center">
            <i class="fas fa-check-circle text-2xl mr-3"></i>
            <span class="text-lg font-semibold">Nomor berhasil disalin ke clipboard!</span>
        </div>
    </div>

    <!-- Music Toggle Button -->
    <button id="music-toggle-btn" class="method-btn">
        <i id="music-icon" class="fas fa-volume-up"></i>
    </button>

    <!-- Audio Element for Background Music -->
    <audio id="background-music" loop>
        <source src="https://files.catbox.moe/7lnu71.mp3" type="audio/mpeg">
        Browser Anda tidak mendukung elemen audio.
    </audio>

    <!-- QRIS Modal Overlay Structure -->
    <div id="qris-modal-overlay">
        <div id="qris-modal-content">
            <button id="qris-close-btn"><i class="fas fa-times-circle"></i></button>
            <h3 class="text-2xl font-orbitron mb-4 text-sky-300">
                <i class="fas fa-qrcode mr-3"></i>Scan QR Code
            </h3>
            <p class="text-slate-300 text-lg mb-6">Pindai kode QR menggunakan aplikasi pembayaran favorit Anda</p>

            <div class="max-w-sm mx-auto">
                <div class="qr-container animate-pulseGlow">
                    <img src="https://files.catbox.moe/x5ixxt.jpeg" alt="Kode QRIS Pembayaran" class="w-full h-auto rounded-xl shadow-2xl">
                </div>
            </div>
        </div>
    </div>

    <!-- Floating ChatBot -->
    <button id="chatbot-toggle" class="fixed bottom-20 left-4 bg-sky-500 text-white rounded-full w-12 h-12 flex justify-center items-center shadow-lg hover:scale-110 transition z-50">
        <i class="fas fa-comments"></i>
    </button>

    <div id="chatbot-window" class="fixed bottom-32 left-4 glass-panel-secondary rounded-xl p-4 hidden shadow-2xl z-50">
        <div class="flex justify-between items-center mb-3">
            <span class="text-white font-bold">ChatBot</span>
            <button id="chatbot-close-btn" class="text-red-400 text-xl"><i class="fas fa-times"></i></button>
        </div>
        <div class="h-40 overflow-y-auto bg-slate-800 text-slate-300 p-2 rounded mb-2" id="chat-history">
            <p><strong>Bot:</strong> Hai! Ada yang bisa saya bantu?</p>
        </div>
        <input type="text" id="chat-input" placeholder="Ketik pesan..." class="w-full p-2 rounded bg-slate-900 text-white border border-slate-600" />
    </div>

    <!-- Light/Dark Mode Toggle -->
    <button id="theme-toggle" class="fixed top-4 right-4 bg-yellow-400 text-black px-4 py-2 rounded-full z-50 font-bold shadow-lg">
        ☀️ Light Mode
    </button>

    <!-- Tone.js for sound effects -->
    <script src="https://unpkg.com/tone@14.7.58/build/Tone.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // Initialize Tone.js for sound effects
            const synth = new Tone.Synth().toDestination();
            const clickPitch = "C5"; // A pleasant pitch for a click sound

            /**
             * Plays a simple click sound using Tone.js.
             */
            function playClickSound() {
                // Ensure audio context is started on user interaction
                if (Tone.context.state !== 'running') {
                    Tone.start();
                }
                synth.triggerAttackRelease(clickPitch, "8n"); // Play a note for an 8th note duration
            }

            // Get the audio element and music toggle button
            const backgroundMusic = document.getElementById('background-music');
            const musicToggleButton = document.getElementById('music-toggle-btn');
            const musicIcon = document.getElementById('music-icon');
            let isMusicPlaying = false; // Track music state

            // Function to toggle music playback
            function toggleMusic() {
                if (isMusicPlaying) {
                    backgroundMusic.pause();
                    musicIcon.classList.remove('fa-volume-up');
                    musicIcon.classList.add('fa-volume-mute');
                    isMusicPlaying = false;
                } else {
                    // Start Tone.js context on first user interaction
                    if (Tone.context.state !== 'running') {
                        Tone.start();
                    }
                    backgroundMusic.play().catch(error => {
                        console.error("Autoplay prevented:", error);
                        // In a real application, you might show a custom message box here
                        // instead of an alert, as alerts are blocked in iframes.
                    });
                    musicIcon.classList.remove('fa-volume-mute');
                    musicIcon.classList.add('fa-volume-up');
                    isMusicPlaying = true;
                }
            }

            // Event listener for music toggle button
            musicToggleButton.addEventListener('click', toggleMusic);

            // Add click sound and pressed animation to all interactive buttons
            document.querySelectorAll('button, a.method-btn').forEach(button => {
                button.addEventListener('click', playClickSound);

                // Add pressed animation on mousedown and remove on mouseup/mouseleave
                button.addEventListener('mousedown', () => {
                    button.classList.add('pressed');
                });
                button.addEventListener('mouseup', () => {
                    button.classList.remove('pressed');
                });
                button.addEventListener('mouseleave', () => {
                    button.classList.remove('pressed');
                });
            });


            // Enhanced Starfield Animation
            const canvas = document.getElementById('starfield');
            const ctx = canvas.getContext('2d');
            let animationId; // To store the requestAnimationFrame ID

            /**
             * Resizes the canvas to fill the entire window.
             */
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            // Event listener for window resize
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas(); // Initial resize

            const stars = [];
            const numStars = 300;
            const shootingStars = [];

            // Create regular stars with random properties
            for (let i = 0; i < numStars; i++) {
                stars.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    radius: Math.random() * 2 + 0.5,
                    vx: Math.random() * 0.3 - 0.15, // velocity x
                    vy: Math.random() * 0.3 - 0.15, // velocity y
                    opacity: Math.random() * 0.8 + 0.2,
                    twinkle: Math.random() * 0.02 + 0.01 // twinkling speed
                });
            }

            /**
             * Creates a new shooting star at random intervals.
             */
            function createShootingStar() {
                if (Math.random() < 0.005) { // Probability of creating a shooting star
                    shootingStars.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height * 0.3, // Start from upper part of the screen
                        vx: Math.random() * 8 + 4, // Horizontal velocity
                        vy: Math.random() * 4 + 2, // Vertical velocity
                        length: Math.random() * 80 + 40, // Length of the tail
                        opacity: 1,
                        decay: Math.random() * 0.02 + 0.01 // Opacity decay rate
                    });
                }
            }

            /**
             * Draws all stars (regular and shooting) on the canvas.
             */
            function drawStars() {
                ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear the canvas

                // Draw regular stars
                stars.forEach(star => {
                    ctx.beginPath();
                    ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                    ctx.fillStyle = `rgba(255, 255, 255, ${star.opacity})`;
                    ctx.fill();

                    // Twinkling effect: change opacity
                    star.opacity += star.twinkle;
                    if (star.opacity > 1 || star.opacity < 0.2) {
                        star.twinkle = -star.twinkle; // Reverse twinkling direction
                    }
                });

                // Draw shooting stars
                shootingStars.forEach((star, index) => {
                    // Create a linear gradient for the tail effect
                    const gradient = ctx.createLinearGradient(star.x, star.y, star.x - star.length, star.y - star.length/2);
                    gradient.addColorStop(0, `rgba(56, 189, 248, ${star.opacity})`); // Bright at head
                    gradient.addColorStop(1, 'rgba(56, 189, 248, 0)'); // Fades out at tail

                    ctx.beginPath();
                    ctx.moveTo(star.x, star.y);
                    ctx.lineTo(star.x - star.length, star.y - star.length/2);
                    ctx.strokeStyle = gradient;
                    ctx.lineWidth = 2;
                    ctx.stroke();

                    // Update shooting star position and opacity
                    star.x += star.vx;
                    star.y += star.vy;
                    star.opacity -= star.decay;

                    // Remove shooting star if it's out of view or faded
                    if (star.opacity <= 0 || star.x > canvas.width || star.y > canvas.height) {
                        shootingStars.splice(index, 1);
                    }
                });
            }

            /**
             * Updates the position of all regular stars.
             * Stars wrap around the screen when they go out of bounds.
             */
            function updateStars() {
                stars.forEach(star => {
                    star.x += star.vx;
                    star.y += star.vy;

                    // Wrap stars around the screen
                    if (star.x < 0) star.x = canvas.width;
                    if (star.x > canvas.width) star.x = 0;
                    if (star.y < 0) star.y = canvas.height;
                    if (star.y > canvas.height) star.y = 0;
                });
            }

            /**
             * Main animation loop for the starfield.
             */
            function animateStarfield() {
                updateStars();
                createShootingStar(); // Attempt to create new shooting stars
                drawStars();
                animationId = requestAnimationFrame(animateStarfield); // Loop the animation
            }

            // Start the starfield animation
            animateStarfield();

            // Particle Effects
            const particlesContainer = document.getElementById('particles-container');
            const numParticles = 50; // Number of particles

            /**
             * Creates a single particle element.
             * @returns {HTMLElement} The created particle div.
             */
            function createParticle() {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                // Randomize initial position and animation delay for variety
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.animationDelay = `${Math.random() * 4}s`;
                particle.style.animationDuration = `${Math.random() * 3 + 3}s`; // Random duration between 3-6s
                return particle;
            }

            // Add particles to the container
            for (let i = 0; i < numParticles; i++) {
                particlesContainer.appendChild(createParticle());
            }

            // Tab Switching Logic
            const dashboardTab = document.getElementById('dashboard-tab');
            const aiTab = document.getElementById('ai-tab');
            const rentTab = document.getElementById('rent-tab');
            const contactTab = document.getElementById('contact-tab');

            const dashboardView = document.getElementById('dashboard-view');
            const aiAssistantView = document.getElementById('ai-assistant-view');
            const rentView = document.getElementById('rent-view');
            const contactView = document.getElementById('contact-view');

            const tabIndicator = document.getElementById('tab-indicator');
            const contentViewsContainer = document.getElementById('content-views-container'); // Parent of all views

            // Store all content views for easy access
            const allContentViews = [dashboardView, aiAssistantView, rentView, contactView];

            /**
             * Switches the active tab and updates the UI with Warp Speed transition.
             * @param {HTMLElement} activeTabButton The button for the tab to activate.
             * @param {HTMLElement} newActiveContentView The content view to display.
             */
            function switchTab(activeTabButton, newActiveContentView) {
                const currentActiveView = document.querySelector('#content-views-container > div:not(.hidden)');

                // If there's a current active view and it's not the same as the new one, apply warp-out
                if (currentActiveView && currentActiveView !== newActiveContentView) {
                    currentActiveView.classList.add('animate-warp-out');
                    // Ensure the view is visible during warp-out animation
                    currentActiveView.classList.remove('hidden');

                    setTimeout(() => {
                        // Hide old view and remove animation class after it fades out
                        currentActiveView.classList.add('hidden');
                        currentActiveView.classList.remove('animate-warp-out');

                        // Show new view and apply warp-in animation
                        newActiveContentView.classList.remove('hidden');
                        newActiveContentView.classList.add('animate-warp-in');

                        // Remove warp-in class after its animation completes
                        setTimeout(() => {
                            newActiveContentView.classList.remove('animate-warp-in');
                        }, 500); // Duration of warpIn animation
                    }, 300); // Duration of warpOut animation
                } else {
                    // If no current active view or it's the same, just show the new one instantly
                    newActiveContentView.classList.remove('hidden');
                    newActiveContentView.classList.add('animate-fadeInUp'); // Use initial fade-in for first load or same tab click
                    setTimeout(() => {
                        newActiveContentView.classList.remove('animate-fadeInUp');
                    }, 800);
                }

                // Update active state for tab buttons
                document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                activeTabButton.classList.add('active');

                // Update tab indicator position and width
                const tabWidth = activeTabButton.offsetWidth;
                const tabLeft = activeTabButton.offsetLeft;
                tabIndicator.style.width = `${tabWidth}px`;
                tabIndicator.style.transform = `translateX(${tabLeft}px)`;
            }

            // Initial setup for tab indicator and content view
            // Ensure indicator is correctly positioned on load for the active tab
            // And ensure only the initial dashboard view is shown
            allContentViews.forEach(view => view.classList.add('hidden')); // Hide all views initially
            dashboardView.classList.remove('hidden'); // Show dashboard by default
            dashboardView.classList.add('animate-fadeInUp'); // Apply fade-in on initial load

            const initialActiveTab = document.querySelector('.tab-btn.active');
            if (initialActiveTab) {
                const tabWidth = initialActiveTab.offsetWidth;
                const tabLeft = initialActiveTab.offsetLeft;
                tabIndicator.style.width = `${tabWidth}px`;
                tabIndicator.style.transform = `translateX(${tabLeft}px)`;
            }

            // Event listeners for tab buttons
            dashboardTab.addEventListener('click', () => {
                switchTab(dashboardTab, dashboardView);
            });

            aiTab.addEventListener('click', () => {
                switchTab(aiTab, aiAssistantView);
            });

            rentTab.addEventListener('click', () => {
                switchTab(rentTab, rentView);
            });

            contactTab.addEventListener('click', () => {
                switchTab(contactTab, contactView);
            });

            // Payment Type Switching (E-Wallet / QRIS)
            const paymentTypeBtns = document.querySelectorAll('.payment-type-btn');
            const ewalletView = document.getElementById('ewallet-view');
            const qrisView = document.getElementById('qris-view');

            paymentTypeBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove 'active' from all type buttons
                    paymentTypeBtns.forEach(b => b.classList.remove('active'));
                    // Add 'active' to the clicked button
                    btn.classList.add('active');

                    // Show/hide views based on data-type with animation
                    if (btn.dataset.type === 'ewallet') {
                        ewalletView.classList.remove('hidden', 'animate-slideInRight');
                        ewalletView.classList.add('animate-slideInLeft');
                        qrisView.classList.add('hidden');
                    } else if (btn.dataset.type === 'qris') {
                        qrisView.classList.remove('hidden', 'animate-slideInLeft');
                        qrisView.classList.add('animate-slideInRight');
                        ewalletView.classList.add('hidden');
                    }
                });
            });

            // E-Wallet Method Selection and Details Display
            const ewalletMethodBtns = document.querySelectorAll('.ewallet-method-btn');
            const detailsContainer = document.getElementById('details-container');
            const placeholder = document.getElementById('placeholder');
            const details = document.getElementById('details');
            const methodNameSpan = document.getElementById('method-name');
            const paymentNumberP = document.getElementById('payment-number');
            const copyBtn = document.getElementById('copy-btn');
            const notification = document.getElementById('notification');

            // Payment details data (example data)
            const paymentDetails = {
                dana: { name: "DANA", number: "NOT AVAILABLE" },
                gopay: { name: "GOPAY", number: "NOT AVAILABLE" },
                ovo: { name: "OVO", number: "NOT AVAILABLE" }
            };

            ewalletMethodBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove 'active' from all e-wallet method buttons
                    ewalletMethodBtns.forEach(b => b.classList.remove('active'));
                    // Add 'active' to the clicked button
                    btn.classList.add('active');

                    const method = btn.dataset.method;
                    const detail = paymentDetails[method];

                    if (detail) {
                        placeholder.classList.add('hidden'); // Hide placeholder
                        details.classList.remove('hidden'); // Show details
                        details.classList.add('animate-fadeInUp'); // Apply fade-in animation

                        methodNameSpan.textContent = detail.name;
                        paymentNumberP.textContent = detail.number;
                    }
                });
            });

            // Copy to Clipboard functionality
            copyBtn.addEventListener('click', () => {
                const textToCopy = paymentNumberP.textContent;
                if (textToCopy) {
                    // Use execCommand for broader compatibility in iframes
                    const textarea = document.createElement('textarea');
                    textarea.value = textToCopy;
                    document.body.appendChild(textarea);
                    textarea.select();
                    try {
                        document.execCommand('copy');
                        showNotification(); // Show success notification
                        showConfetti(); // Trigger confetti on successful copy
                    } catch (err) {
                        console.error('Failed to copy text: ', err);
                        // Optionally, show an error notification
                    } finally {
                        document.body.removeChild(textarea);
                    }
                }
            });

            /**
             * Displays a success notification for a short duration.
             */
            function showNotification() {
                notification.classList.remove('opacity-0', '-translate-y-10', 'pointer-events-none');
                notification.classList.add('opacity-100', 'translate-y-0');

                setTimeout(() => {
                    notification.classList.remove('opacity-100', 'translate-y-0');
                    notification.classList.add('opacity-0', '-translate-y-10', 'pointer-events-none');
                }, 3000); // Notification disappears after 3 seconds
            }

            // QRIS Modal Logic
            const showQrisBtn = document.getElementById('show-qris-btn');
            const qrisModalOverlay = document.getElementById('qris-modal-overlay');
            const qrisCloseBtn = document.getElementById('qris-close-btn');

            showQrisBtn.addEventListener('click', () => {
                qrisModalOverlay.classList.add('active');
            });

            qrisCloseBtn.addEventListener('click', () => {
                qrisModalOverlay.classList.remove('active');
            });

            // Close modal if clicked outside the content (on the overlay itself)
            qrisModalOverlay.addEventListener('click', (event) => {
                if (event.target === qrisModalOverlay) {
                    qrisModalOverlay.classList.remove('active');
                }
            });

            // Ensure the new close button also has the pressed animation and sound
            qrisCloseBtn.addEventListener('click', playClickSound);
            qrisCloseBtn.addEventListener('mousedown', () => {
                qrisCloseBtn.classList.add('pressed');
            });
            qrisCloseBtn.addEventListener('mouseup', () => {
                qrisCloseBtn.classList.remove('pressed');
            });
            qrisCloseBtn.addEventListener('mouseleave', () => {
                qrisCloseBtn.classList.remove('pressed');
            });

            // AI Assistant Logic
            const aiQueryInput = document.getElementById('ai-query-input');
            const sendAiQueryBtn = document.getElementById('send-ai-query-btn');
            const aiResponseArea = document.getElementById('ai-response-area');
            const aiLoadingSpinner = document.getElementById('ai-loading-spinner');

            sendAiQueryBtn.addEventListener('click', async () => {
                const prompt = aiQueryInput.value.trim();
                if (!prompt) {
                    aiResponseArea.innerHTML = '<p class="text-red-400">Harap masukkan pertanyaan.</p>';
                    return;
                }

                aiResponseArea.innerHTML = ''; // Clear previous response
                aiLoadingSpinner.classList.remove('hidden'); // Show loading spinner

                // Chat history for context (optional, but good practice for conversational AI)
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                const payload = { contents: chatHistory };
                const apiKey = ""; // Canvas will automatically provide this via the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    // Check if the HTTP response itself was successful
                    if (!response.ok) {
                        const errorText = await response.text();
                        console.error('API HTTP Error:', response.status, response.statusText, errorText);
                        aiResponseArea.innerHTML = `<p class="text-red-400">Terjadi kesalahan jaringan atau API: ${response.status} ${response.statusText}. Coba lagi.</p>`;
                        return; // Exit if HTTP error
                    }

                    const result = await response.json();
                    console.log('Gemini API Raw Response:', result); // Log the full response for debugging

                    // Check for candidates and content parts
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        aiResponseArea.innerHTML = `<p>${text}</p>`;
                    } else if (result.promptFeedback && result.promptFeedback.blockReason) {
                        // Handle cases where the prompt was blocked by safety filters
                        let blockReasonMessage = '';
                        switch (result.promptFeedback.blockReason) {
                            case 'SAFETY':
                                blockReasonMessage = 'Karena alasan keamanan (konten yang tidak pantas).';
                                break;
                            case 'OTHER':
                                blockReasonMessage = 'Karena alasan lain yang tidak ditentukan.';
                                break;
                            default:
                                blockReasonMessage = 'Karena alasan yang tidak diketahui.';
                        }
                        aiResponseArea.innerHTML = `<p class="text-red-400">Maaf, pertanyaan Anda diblokir ${blockReasonMessage}</p>`;
                    } else if (result.error && result.error.message) {
                        // Handle specific API errors returned in the response body
                        aiResponseArea.innerHTML = `<p class="text-red-400">Terjadi kesalahan API: ${result.error.message}</p>`;
                        console.error('Gemini API Error:', result.error.message);
                    }
                    else {
                        // Fallback for unexpected but non-error API response structure
                        aiResponseArea.innerHTML = '<p class="text-red-400">Maaf, tidak dapat menghasilkan respons yang valid. Struktur respons tidak terduga.</p>';
                        console.error('Unexpected API response structure or empty content:', result);
                    }
                } catch (error) {
                    // Catch network errors or issues with JSON parsing
                    aiResponseArea.innerHTML = `<p class="text-red-400">Terjadi kesalahan saat mengambil respons AI: ${error.message}. Pastikan koneksi internet Anda stabil.</p>`;
                    console.error('Error fetching AI response:', error);
                } finally {
                    aiLoadingSpinner.classList.add('hidden'); // Hide loading spinner
                    aiQueryInput.value = ''; // Clear input field
                }
            });

            // Ensure the new AI button also has the pressed animation and sound
            sendAiQueryBtn.addEventListener('mousedown', () => {
                sendAiQueryBtn.classList.add('pressed');
            });
            sendAiQueryBtn.addEventListener('mouseup', () => {
                sendAiQueryBtn.classList.remove('pressed');
            });
            sendAiQueryBtn.addEventListener('mouseleave', () => {
                sendAiQueryBtn.classList.remove('pressed');
            });

            // Add pressed animation and sound to rent buttons (now anchor tags)
            document.querySelectorAll('.rent-now-btn').forEach(button => {
                button.addEventListener('click', playClickSound);
                button.addEventListener('mousedown', () => {
                    button.classList.add('pressed');
                });
                button.addEventListener('mouseup', () => {
                    button.classList.remove('pressed');
                });
                button.addEventListener('mouseleave', () => {
                    button.classList.remove('pressed');
                });
            });

            // === Floating ChatBot ===
            const chatbotToggle = document.getElementById('chatbot-toggle');
            const chatbotWindow = document.getElementById('chatbot-window');
            const chatInput = document.getElementById('chat-input');
            const chatHistory = document.getElementById('chat-history');
            const chatbotCloseBtn = document.getElementById('chatbot-close-btn');

            chatbotToggle.addEventListener('click', () => {
                chatbotWindow.classList.toggle('active'); // Use 'active' for animation
                chatbotWindow.classList.toggle('hidden'); // Still toggle 'hidden' for initial state
            });

            chatbotCloseBtn.addEventListener('click', () => {
                chatbotWindow.classList.remove('active');
                setTimeout(() => {
                    chatbotWindow.classList.add('hidden');
                }, 300); // Match transition duration
            });

            chatInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    const userMsg = chatInput.value.trim();
                    if (userMsg) {
                        chatHistory.innerHTML += `<p><strong>Kamu:</strong> ${userMsg}</p>`;
                        chatHistory.innerHTML += `<p><strong>Bot:</strong> ${getBotReply(userMsg)}</p>`;
                        chatInput.value = "";
                        chatHistory.scrollTop = chatHistory.scrollHeight;
                    }
                }
            });

            function getBotReply(msg) {
                msg = msg.toLowerCase();
                if (msg.includes("hai") || msg.includes("halo")) return "Halo juga! 🚀";
                if (msg.includes("bayar")) return "Silakan pilih metode di tab dashboard ya.";
                return "Maaf saya belum mengerti 😅";
            }

            // Add pressed animation to chatbot toggle and close button
            chatbotToggle.addEventListener('mousedown', () => {
                chatbotToggle.classList.add('pressed');
            });
            chatbotToggle.addEventListener('mouseup', () => {
                chatbotToggle.classList.remove('pressed');
            });
            chatbotToggle.addEventListener('mouseleave', () => {
                chatbotToggle.classList.remove('pressed');
            });

            chatbotCloseBtn.addEventListener('mousedown', () => {
                chatbotCloseBtn.classList.add('pressed');
            });
            chatbotCloseBtn.addEventListener('mouseup', () => {
                chatbotCloseBtn.classList.remove('pressed');
            });
            chatbotCloseBtn.addEventListener('mouseleave', () => {
                chatbotCloseBtn.classList.remove('pressed');
            });


            // === Light/Dark Mode Toggle ===
            const themeToggle = document.getElementById("theme-toggle");
            let darkMode = true; // Initial state is dark mode

            themeToggle.addEventListener("click", () => {
                document.body.classList.toggle("light-mode"); // Toggle the light-mode class
                darkMode = !darkMode;
                themeToggle.textContent = darkMode ? "☀️ Light Mode" : "🌙 Dark Mode";

                // Play click sound for theme toggle
                playClickSound();
            });

            // Add pressed animation to theme toggle
            themeToggle.addEventListener('mousedown', () => {
                themeToggle.classList.add('pressed');
            });
            themeToggle.addEventListener('mouseup', () => {
                themeToggle.classList.remove('pressed');
            });
            themeToggle.addEventListener('mouseleave', () => {
                themeToggle.classList.remove('pressed');
            });


            // === Confetti Function ===
            function showConfetti() {
                for (let i = 0; i < 30; i++) {
                    const conf = document.createElement('div');
                    conf.className = 'confetti';
                    conf.style.left = Math.random() * 100 + 'vw';
                    conf.style.animationDuration = 2 + Math.random() * 3 + 's';
                    conf.style.setProperty('--hue', Math.floor(Math.random() * 360));
                    document.body.appendChild(conf);
                    setTimeout(() => conf.remove(), 5000);
                }
            }

            // Initial check for light mode if desired (e.g., from local storage)
            // if (localStorage.getItem('theme') === 'light') {
            //     document.body.classList.add('light-mode');
            //     darkMode = false;
            //     themeToggle.textContent = "🌙 Dark Mode";
            // }
        });
    </script>
</body>
</html>
